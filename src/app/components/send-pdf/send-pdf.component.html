<div class="wrapper">
  <div id="formContent">
    <div class="first">
      <img src="/assets/images/logo-tre-ba.png" alt="Logo TRE-BA" />
    </div>

    <div class="content">
      <form (ngSubmit)="onSubmit()">
        <div id="nomeSistema">
          <p>API para Envio de PDF</p>
        </div>

        <!-- Campo de Nome -->
        <div class="form-group">
          <input
            type="text"
            id="name"
            name="name"
            placeholder="Nome"
            maxlength="50"
            [(ngModel)]="formData.name"
            #nameInput="ngModel"
            required
          />
          <div *ngIf="nameInput.invalid && nameInput.touched">
            <small class="text-danger">O campo Nome é obrigatório.</small>
          </div>
        </div>

        <!-- Campo de Telefone -->
        <div class="form-group">
          <input
            type="tel"
            id="phone"
            name="phone"
            placeholder="Telefone"
            maxlength="15"
            [(ngModel)]="formData.phone"
            #phoneInput="ngModel"
            required
          />
          <div *ngIf="phoneInput.invalid && phoneInput.touched">
            <small class="text-danger">O campo Telefone é obrigatório.</small>
          </div>
        </div>

        <!-- Campo de Arquivo -->
        <div class="form-group">
          <input
            type="file"
            id="file"
            name="file"
            (change)="onFileSelected($event)"
            accept=".pdf"
            required
          />
          <div *ngIf="!formData.file && fileTouched">
            <small class="text-danger">O campo Arquivo é obrigatório.</small>
          </div>
        </div>

        <!-- Botão de Envio -->
        <input
          type="submit"
          value="Enviar"
          [disabled]="
            !formData.name || !formData.phone || !formData.file || isLoading
          "
        />

        <!-- Feedback -->
        <div *ngIf="successMessage" class="text-success">
          {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="text-danger">{{ errorMessage }}</div>
        <div *ngIf="isLoading" class="loading">Enviando...</div>
      </form>
    </div>
  </div>
</div>

<div class="footer footer-bottom">
  <img src="/assets/images/brasao-tre-sem-fundo.png" alt="Brasão TRE-BA" />
  <div color="primary">
    Sistema de envio de PDF por API - (Versão {{ version }})
  </div>
</div>
